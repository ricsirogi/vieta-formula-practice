<!DOCTYPE html>
<html>
  <head lang="us">
    <title>Vieta formula practice</title>
    <meta charset="utf-8" />
    <style type="text/css">
      :root {
        --font-size: 70px;
        --border-radius: 5%;
      }
      body {
        background: #666666;
        font-family: Consolas;
      }
      .container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        height: auto;
        min-height: 500px;
      }
      .item {
        max-height: 50%;
        font-size: var(--font-size);
        margin-top: auto;
        background: #505050;
        border-style: solid;
        border-width: 5px;
        border-radius: var(--border-radius);
      }
      .root {
        padding-right: 0px;
      }
      button {
        width: 100%;
        height: 220%;
        background: #444444;
        font-size: var(--font-size);
        border-width: 3px;
        border-radius: var(--border-radius);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="item">
        <p id="equation">placeholder</p>
        <!--Need something here so the button will be the proper height-->
        <div id="roots">
          <p class="root">x<sub>1</sub>=</p>
          <p class="root">x<sub>2</sub>=</p>
        </div>
      </div>
      <div class="item" style="border-width: 0px">
        <button id="button">Continue</button>
      </div>
    </div>
    <script>
      function getRandomInt(min, max) {
        min = Math.ceil(min)
        max = Math.floor(max)
        return Math.floor(Math.random() * (max - min + 1)) + min
      }

      function generateNewRoots(roots, equation, x1, x2) {
        temp1 = x1
        temp2 = x2
        while (true) {
          temp1 = getRandomInt(-10, 10)
          temp2 = getRandomInt(-10, 10)
          if (temp1 != 0 && temp2 != 0 && ((temp1 != x1 && temp1 != x2) || (temp2 != x1 && temp2 != x2))) {
            x1 = temp1
            x2 = temp2
            a = 1
            b = -((x1 + x2) / a)
            c = (x1 * x2) / a
            if (b == 0) {
              continue
            }
            roots[0].innerHTML = 'x<sub>1</sub>='
            roots[1].innerHTML = 'x<sub>2</sub>='
            equation.innerHTML = 'x<sup>2</sup>' + (b < 0 ? b : '+' + b) + (c < 0 ? c : '+' + c) + '=0'
            console.log(x1, x2, b, c)
            return [x1, x2]
            break
          }
        }
      }
      let x1 = 100
      let x2 = 100
      let equation = document.getElementById('equation')
      let roots = document.querySelectorAll('.root') // Select all elements with class 'root'

      newRoots = generateNewRoots(roots, equation, x1, x2)
      x1 = newRoots[0]
      x2 = newRoots[1]

      button.addEventListener('click', (event) => {
        if (roots[0].innerHTML == 'x<sub>1</sub>=') {
          // write out the roots
          roots[0].innerHTML += x1
          roots[1].innerHTML += x2
        } else {
          // generate new roots
          newRoots = generateNewRoots(roots, equation, x1, x2)
          x1 = newRoots[0]
          x2 = newRoots[1]
        }
      })
    </script>
  </body>
</html>
